"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NetworkInfo=NetworkInfo;var _vue=require("vue"),_vue2=_interopRequireDefault(_vue);function _interopRequireDefault(o){return o&&o.__esModule?o:{default:o}}var color="font-size:14px;color:red;",color1="font-size:16px;color:red;background:#ef7070";function userInfo(){var o=navigator.userAgent.toLowerCase(),e="",n="",i="",r={name:"",os:"",version:"",clientWidth:"",clientHeight:"",ip:returnCitySN.cip,address:returnCitySN.cname},t="",s="",l="";/android|webos|iphone|ipad|blackberry|micromessenger/i.test(o)?-1<o.indexOf("android")||-1<o.indexOf("linux")||-1<o.indexOf("adr")?(i=["android","未知"],t=o.indexOf("android")+8,s=o.indexOf(")"),l=o.substring(t,s).split(";")[0],r.os=l):-1<o.indexOf("iphone")?(812==screen.height&&375==screen.width?(e=o.indexOf("version"),n=o.indexOf(" mobile"),(i=o.substring(e,n).split("/"))[0]="iphoneX",t=o.indexOf("os")+3,s=o.indexOf(" like"),l=o.substring(t,s)):736==screen.height&&414==screen.width?(e=o.indexOf("version"),n=o.indexOf(" mobile"),(i=o.substring(e,n).split("/"))[0]="iPhone6P-iPhone7P-iPhone8P",t=o.indexOf("os")+3,s=o.indexOf(" like"),l=o.substring(t,s)):667==screen.height&&375==screen.width?(e=o.indexOf("version"),n=o.indexOf(" mobile"),(i=o.substring(e,n).split("/"))[0]="iPhone6-iPhone7-iPhone8",t=o.indexOf("os")+3,s=o.indexOf(" like"),l=o.substring(t,s)):568==screen.height&&320==screen.width&&(e=o.indexOf("version"),n=o.indexOf(" mobile"),(i=o.substring(e,n).split("/"))[0]="iPhone5",t=o.indexOf("os")+3,s=o.indexOf(" like"),l=o.substring(t,s)),r.os=l):-1<o.indexOf("ipad")?(e=o.indexOf("version"),n=o.indexOf(" mobile"),(i=o.substring(e,n).split("/"))[0]="平板",t=o.indexOf("os")+3,s=o.indexOf(" like"),l=o.substring(t,s),r.os=l):-1<o.indexOf("windows phone")&&console.log("诺基亚手机"):-1<o.indexOf("chrome")?(e=o.indexOf("chrome"),n=o.indexOf(" safari"),i=o.substring(e,n).split("/")):-1<o.indexOf("firefox")?(e=o.indexOf("firefox"),i=o.substring(e).split("/")):-1<o.indexOf("edge")?(e=o.indexOf("edge"),i=o.substring(e).split("/")):-1<o.indexOf("safari")&&o.indexOf("chrome")<0&&(e=o.indexOf("version"),n=o.indexOf(" safari"),(i=o.substring(e,n).split("/"))[0]="safari",t=o.indexOf("os ")+3,s=o.indexOf(")"),r.os=o.substring(t,s)),r.name=i[0],r.version=i[1],r.clientHeight=document.documentElement.clientHeight,r.clientWidth=document.documentElement.clientWidth,console.log(r,"浏览器信息")}_vue2.default.config.errorHandler=function(o,e,n){var i=e.$route.path,r=o,t=n;console.log("%c---------------------------------------------",color1),console.log("%c文件路径："+i,color),console.log("%c错误生命周期："+t,color),console.log("%c错误详情："+r,color),console.log(o),userInfo(),console.log("%c---------------------------------------------",color1)},window.addEventListener("unhandledrejection",function(o){return o.preventDefault(),console.log("%c---------------------------------------------",color1),console.log("%cpromise报错",color),console.log("%c文件路径："+location.hash,color),console.log("%c错误详情："+o.reason,color),userInfo(),monitor.userClickInfo(o),console.log("%c---------------------------------------------",color1),!0}),window.addEventListener("error",function(o){location.hash,o.path[0];console.log(o,"error"),console.log("%c---------------------------------------------",color1),console.log("%c静态文件报错",color),console.log("%c错误路径："+location.hash,color),console.log("%c错误资源：",color,o.path[0]),userInfo(),console.log("%c---------------------------------------------",color1)},!0),window.onload=function(){var o=performance.timing,e={},n=setInterval(function(){0<performance.timing.loadEventEnd&&(clearInterval(n),e.loadPage=o.loadEventEnd-o.navigationStart,e.domReady=o.domComplete-o.domInteractive,e.loadWrite=o.responseStart-o.navigationStart,console.log(e,"网站加载信息"))},50)};var monitor={NetworkInfo:NetworkInfo,userClickInfo:function(){document.onclick=function(o){o.target.dataset.c&&console.log("用户点击了：",o.target.innerText,"1111111111")}}};function NetworkInfo(o,e){console.log("%c---------------------------------------------",color1),console.log("%c接口报错："+o.toString().substring(o.toString().indexOf("at ")),color),console.log("%c错误接口："+e,color),userInfo(),console.log("%c---------------------------------------------",color1)}exports.default={install:function(o){o.prototype.$monitor=monitor}};